@using AgingInHome.Models;
@using AgingInHome.DAL;
@model AgingInHome.Models.ProviderListingModel
@{
    ViewBag.Title = "ViewListing";
    var UserDetail = (AspNetUser)ViewBag.UserDetail;
}
@{
    Layout = "~/Views/Shared/_Layoutnew1.cshtml";
}

@if (Model.ServiceAreas[0].ZipCode > 0)
{
    @Html.HiddenFor(m => m.ServiceAreas[0].ZipCode, new { @id = "postcode" });
}
@Html.Hidden("isratingShow", (bool)ViewBag.checkRatingShowOrNot)
@Html.Hidden("ProviderId", Model.UserId)
@Html.Hidden("LoggedInUserId", Model.LoggedInUserId)
@if (UserDetail != null)
{
    @Html.Hidden("LoggedInConFirstName", UserDetail.ConsumerProfiles.FirstOrDefault().FirstName)
    @Html.Hidden("LoggedInConLastName", UserDetail.ConsumerProfiles.FirstOrDefault().LastName)
}
@Html.HiddenFor(m => m.ProviderListingId) <input type="hidden" name="AvgRating" id="AvgRating" value="@Model.AvgRating" />
<style type="text/css">
    .morecontent span {
        display: none;
    }
</style>
<!-- Main Container -->
<div class="main-container inner-container">
    <div class="container">

        <div class="row hidden-lg hidden-md viewListingcontactBtn">
            <div class="col-xs-12">
                <a href="#" class="btn btn-block btn-secondary" data-toggle="modal" data-target="#ContactModel"><i aria-hidden="true" class="fa fa-file-text-o"></i>Contact Us</a>
            </div>

            <!-- Modal -->
            <div class="modal fade contact-modal" id="ContactModel" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">Contact Us</h4>
                        </div>
                        <div class="modal-body contactForm">
                            @using (Html.BeginForm("Contactus", "Utitility", FormMethod.Post, new { @id = "mbcontactusform" }))
                            {
                                @Html.Hidden("ProviderUserId", Model.UserId)
                                @Html.Hidden("ProviderListingId", Model.ProviderListingId)

                                <div class="default-form">
                                    <div class="form-group">
                                        <input type="text" name="FirstName" required placeholder="FirstName" class="form-control clearContactDetails _hide">
                                        <span id="FirstNamevalidation"></span>
                                    </div>
                                    <div class="form-group">
                                        <input type="text" name="LastName" required placeholder="LastName" class="form-control clearContactDetails _hide">
                                        <span id="LastNamevalidation"></span>
                                    </div>
                                    <div class="form-group">
                                        <input type="email" name="Email" required placeholder="Email" class="form-control clearContactDetails">
                                    </div>
                                    <div class="form-group">
                                        <input type="text" name="Phone" required placeholder="Phone" class="form-control clearContactDetails">
                                        <span id="Phonevalidation"></span>
                                    </div>
                                    <div class="form-group clearfix">
                                        <h4>Please check any that apply *</h4>
                                        <ul class="customCheckbox">
                                            <li><label><input id="check-1" type="checkbox" name="MbCall" /> <span class="lbl">Please call me with more information</span></label></li>
                                            <li><label><input id="check-2" type="checkbox" name="IsEmail" /> <span class="lbl">Please Email me with more information</span></label></li>
                                            <li><label><input id="check-3" type="checkbox" name="MbAppointmentSchedule" /><span class="lbl">I did Like to Schedule an appointment</span></label></li>
                                            <li><label><input id="check-4" type="checkbox" name="CustomeMsg" /> <span class="lbl">I did like to type a custom Message</span></label></li>
                                        </ul>
                                    </div>

                                    <div class="form-group AppointmentDateTimeDiv">
                                        <div class="input-group">
                                            @Html.TextBox("mbAppointmentDate", "", new { @class = "form-control datepicker", @placeholder = "Appointment Date", @aria_describedby = "basic-addon1" })
                                            <span id="basic-addon1" class="input-group-addon"><i aria-hidden="true" class="fa fa-calendar"></i></span>
                                            @*<span style="color:red" class="AppointmentSchedule"></span>*@
                                        </div>
                                    </div>

                                    <div class="form-group AppointmentDateTimeDiv">
                                        <div class="input-group">
                                            @Html.TextBox("AppointmentTime", "", new { @class = "form-control timepicker", @placeholder = "Appointment Time", @aria_describedby = "basic-addon1" })
                                            @*<input type="text" aria-describedby="basic-addon1" placeholder="Appointment Time" class="form-control">*@
                                            <span id="basic-addon1" class="input-group-addon"><i aria-hidden="true" class="fa fa-clock-o"></i></span>
                                        </div>
                                    </div>

                                    <div class="form-group CustomeMessageBody1" hidden="hidden">
                                        @*<textarea class="form-control" placeholder="Appointment Time"></textarea>*@
                                        @Html.TextArea("CustomeMessageBody", "", 5, 5, new { @class = "form-control customemsg", @placeholder = "Appointment Time" })
                                    </div>
                                    <div class="form-group">
                                        <p class="instructionTxt">By submittng this form you agree to the <a href="#">terms of use</a></p>
                                        <input type="button" id="mbContactusbtn" value="Send" class="btn btn-block btn-secondary" />
                                    </div>
                                </div>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Row -->
        <div class="row">
            <!-- Left Content Section -->
            <div class="col-md-9">
                <div class="viewListingContent">
                    <h1 class="title">@Model.ProviderCategory1.CategoryName : <span>@Model.CompanyName</span></h1>

                    <div class="callTopSection hidden-xs">
                        <a href="#" class="btn"><i aria-hidden="true" class="fa fa-phone"></i>@Model.ProviderContactNumber</a>
                        <ul class="socialLink">
                            @if (Model.FacebookURL != null)
                            {
                                <li><a href="http://@Model.FacebookURL" target="_blank" class="facebook"><i class="fa fa-facebook"></i></a></li>
                            }
                            @if (Model.GoogleURL != null)
                            {
                                <li><a href="http://@Model.GoogleURL" target="_blank" class="googleplus"><i class="fa fa-google-plus"></i></a></li>

                            }
                            @if (Model.TwitterURL != null)
                            {
                                <li><a href="http://@Model.TwitterURL" target="_blank" class="twitter"><i class="fa fa-twitter"></i></a></li>
                            }
                        </ul>

                    </div>
                    <!-- what we do Section -->

                    <div class="row rowSection">
                        <!-- Image -->
                        <div class="col-sm-4">
                            <div class="imageSection">
                                <div class="ribbon">
                                    <span>@Model.Experience exp.</span>
                                </div>
                                <div class="img" style="background-image: url('../Images/ProviderListingImages/@Model.Logo');">
                                    <img src="../Images/ProviderListingImages/@Model.Logo" onError="this.onerror = null; this.src = '/assets/images/no-image.jpg';" />
                                </div>
                                <ul class="socialLink hidden-sm hidden-md hidden-lg">
                                    @if (Model.FacebookURL != null)
                                    {
                                        <li><a href="http://@Model.FacebookURL" target="_blank" class="facebook"><i class="fa fa-facebook"></i></a></li>
                                    }
                                    @if (Model.GoogleURL != null)
                                    {
                                        <li><a href="http://@Model.GoogleURL" target="_blank" class="googleplus"><i class="fa fa-google-plus"></i></a></li>

                                    }
                                    @if (Model.TwitterURL != null)
                                    {
                                        <li><a href="http://@Model.TwitterURL" target="_blank" class="twitter"><i class="fa fa-twitter"></i></a></li>
                                    }
                                </ul>
                            </div>
                        </div>
                        <!-- //Image -->
                        <!-- Text -->
                        <div class="col-sm-8 whatwedoText detailSection">
                            <h3>Details</h3>
                            <div class="row">
                                 <div class="col-sm-6">
                                <div class="detailItem">
                                    <label>
                                        <i class="fa fa-user"></i>
                                        <span class="hidden-xs hidden-sm hidden-md hidden-lg">Rating:</span>
                                    </label>
                                    <div class="txt">
                                        @{ int p = 0;
                                            for (int x = 0; x < @Model.AvgRating; x++)
                                            {
                                                p = p + 1;
                                                <i class="img-responsive fa fa-star"></i>
                                            }
                                            for (int j = 4; j >= p; j--)
                                            {
                                                <i class="img-responsive fa fa-star-o"></i>
                                            }     }
                                    </div>
                                </div>
                                <div class="detailItem">
                                    <label>
                                        <i class="fa fa-map-marker"></i>
                                        <span class="hidden-xs hidden-sm hidden-md hidden-lg">Address :</span>
                                    </label>
                                    <div class="txt">
                                        @Model.ProviderAddress @Model.ServiceAreas[0].City @Model.ServiceAreas[0].UsState.State, @Model.ServiceAreas[0].ZipCode
                                    </div>
                                </div>
                            </div>
                                
                                 <div class="col-sm-6">
                                <div class="detailItem">
                                    <label>
                                        <i class="fa fa-phone"></i>
                                        <span class="hidden-xs hidden-sm hidden-md hidden-lg">Phone:</span>
                                    </label>
                                    <div class="txt">
                                        <a href="tel:0231544545">@Model.ProviderContactNumber</a>
                                    </div>
                                </div>
                                <div class="detailItem">
                                    <label>
                                        <i class="fa fa-globe"></i>
                                        <span class="hidden-xs hidden-sm hidden-md hidden-lg">Website:</span>
                                    </label>
                                    <div class="txt">
                                        <a href="http://@Model.WebsiteURL" target="_blank">@Model.WebsiteURL</a>
                                    </div>
                                </div>

                            </div>
                            </div>
                        </div>
                        <!-- //Text -->
                    </div>

                    <!-- //what we do Section -->
                    <!-- Detail Section -->
                    <div class="row rowSection whatwedoText">
                        <div class="col-xs-12">
                            <h2 class="SectionTitle">
                                <span>what we do</span>
                            </h2>

                            @Model.WhatWeDo
                        </div>
                       

                    </div>
                    <!-- //Detail Section -->
                    <!-- Hours Section -->
                    <div class="row rowSection">
                        <div class="col-xs-12">
                            <h2 class="SectionTitle">
                                <span>Hours</span>
                            </h2>
                        </div>

                        <div class="col-xs-12">
                            <div class="hoursTable">
                                <div class="hoursTableItem">
                                    <div class="hoursTitle">
                                        Mon<span class="hidden-xs">day</span>
                                    </div>
                                    <div class="hoursTime">
                                        @if (Model.hourOfOperation.MonStart != null && Model.hourOfOperation.MonStart != "Closed")
                                        {
                                            <text>
                                                @Model.hourOfOperation.MonStart
                                            </text>
                                            <text>
                                                - @Model.hourOfOperation.MonEnd
                                            </text>
                                        }
                                        else
                                        {
                                            <text>
                                                Closed
                                            </text>
                                        }
                                    </div>
                                </div>
                                <div class="hoursTableItem">
                                    <div class="hoursTitle">
                                        Tue<span class="hidden-xs">sday</span>
                                    </div>
                                    <div class="hoursTime">
                                        @if (Model.hourOfOperation.TueStart != null && Model.hourOfOperation.TueStart != "Closed")
                                        {
                                            <text>
                                                @Model.hourOfOperation.TueStart
                                            </text>
                                            <text>
                                                - @Model.hourOfOperation.TueEnd
                                            </text>
                                        }
                                        else
                                        {
                                            <text>
                                                Closed
                                            </text>
                                        }
                                    </div>
                                </div>
                                <div class="hoursTableItem">
                                    <div class="hoursTitle">
                                        Wed<span class="hidden-xs">nesday</span>
                                    </div>
                                    <div class="hoursTime">
                                        @if (Model.hourOfOperation.WedStart != null && Model.hourOfOperation.WedStart != "Closed")
                                        {
                                            <text>
                                                @Model.hourOfOperation.WedStart
                                            </text>
                                            <text>
                                                - @Model.hourOfOperation.WedEnd
                                            </text>
                                        }
                                        else
                                        {
                                            <text>
                                                Closed
                                            </text>
                                        }
                                    </div>
                                </div>
                                <div class="hoursTableItem">
                                    <div class="hoursTitle">
                                        Thu<span class="hidden-xs">rsday</span>
                                    </div>
                                    <div class="hoursTime">
                                        @if (Model.hourOfOperation.ThuStart != null && Model.hourOfOperation.ThuStart != "Closed")
                                        {
                                            <text>
                                                @Model.hourOfOperation.ThuStart
                                            </text>
                                            <text>
                                                - @Model.hourOfOperation.ThuEnd
                                            </text>
                                        }
                                        else
                                        {
                                            <text>
                                                Closed
                                            </text>
                                        }
                                    </div>
                                </div>
                                <div class="hoursTableItem">
                                    <div class="hoursTitle">
                                        Fri<span class="hidden-xs">day</span>
                                    </div>
                                    <div class="hoursTime">
                                        @if (Model.hourOfOperation.FriStart != null && Model.hourOfOperation.FriStart != "Closed")
                                        {
                                            <text>
                                                @Model.hourOfOperation.FriStart
                                            </text>
                                            <text>
                                                - @Model.hourOfOperation.FriEnd
                                            </text>
                                        }
                                        else
                                        {
                                            <text>
                                                Closed
                                            </text>
                                        }
                                    </div>
                                </div>
                                <div class="hoursTableItem  hidden-xs">
                                    <div class="hoursTitle orangeTxt">
                                        Sat<span class="hidden-xs">urday</span>
                                    </div>
                                    <div class="hoursTime">
                                        @if (Model.hourOfOperation.SatStart != null && Model.hourOfOperation.SatStart != "Closed")
                                        {
                                            <text>
                                                @Model.hourOfOperation.SatStart
                                            </text>
                                            <text>
                                                - @Model.hourOfOperation.SatEnd
                                            </text>
                                        }
                                        else
                                        {
                                            <text>
                                                Closed
                                            </text>
                                        }
                                    </div>
                                </div>
                                <div class="hoursTableItem hidden-xs">
                                    <div class="hoursTitle orangeTxt">
                                        Sun<span class="hidden-xs">day</span>
                                    </div>
                                    <div class="hoursTime">
                                        @if (Model.hourOfOperation.SunStart != null && Model.hourOfOperation.SunStart != "Closed")
                                        {
                                            <text>
                                                @Model.hourOfOperation.SunStart
                                            </text>
                                            <text>
                                                - @Model.hourOfOperation.SunEnd
                                            </text>
                                        }
                                        else
                                        {
                                            <text>Closed</text>

                                        }
                                    </div>
                                </div>
                                <div class="hoursTableItem hidden-lg hidden-md hidden-sm">
                                    <div class="hoursTitle orangeTxt">
                                        Sat-Sun
                                    </div>
                                    <div class="hoursTime">
                                        @if (Model.hourOfOperation.SunStart != null && Model.hourOfOperation.SunStart != "Closed")
                                        {
                                            <text>
                                                @Model.hourOfOperation.SunStart
                                            </text>
                                            <text>
                                                - @Model.hourOfOperation.SunEnd
                                            </text>
                                        }
                                        else
                                        {
                                            <text>Closed</text>

                                        }
                                    </div>
                                </div>


                            </div>

                        </div>
                    </div>
                    <!-- //Hours Section -->
                    <!-- About Section -->
                    <div class="row rowSection">
                        <div class="col-xs-12">
                            <h2 class="SectionTitle">
                                <span>About Us</span>
                            </h2>
                        </div>

                        <div class="col-xs-12">
                            <div class="aboutItem">
                                <!--<h3>About Us:</h3>-->
                                <p>@Model.WhoWeAre</p>
                            </div>

                            <div class="aboutItem">
                                <h3>Why Choose Us:</h3>
                                <p>@Model.WhyWeDo</p>
                            </div>

                            <div class="aboutItem">
                                <h3>Our Mission:</h3>
                                <p>@Model.WhatWeDo</p>
                            </div>

                        </div>
                    </div>
                    <!-- //About Section -->
                    <!-- Our Services Section -->
                    <div class="row rowSection serviceSection">
                        <div class="col-xs-12">
                            <h2 class="SectionTitle">
                                <span>Our Services</span>
                            </h2>
                        </div>
                        <div class="col-xs-12">
                            <div class="service-gallery">

                                @if (Model.ServiceCategoryViewModel != null)
                                {
                                    foreach (var item in Model.ServiceCategoryViewModel)
                                    {
                                        <div class="item serviceItem">
                                            <div class="desc">
                                                <h4>@item.ServiceCategoryName</h4>
                                                <h5></h5>
                                                <span class="price">$@item.ServiceCategoryPrice</span>
                                            </div>
                                        </div>
                                    }
                                }
                            </div>

                        </div>
                            </div>
                            <!-- //Our Services Section -->
                            <!-- Our Team Section -->
                            <div class="row rowSection">
                                <div class="col-xs-12">
                                    <h2 class="SectionTitle">
                                        <span>Our Team</span>
                                    </h2>
                                </div>

                                <div class="col-xxs-12 col-xs-6 col-sm-3 TeamMember">
                                    <div class="image"> <img src="~/assets/images/teammember-img.jpg" /></div>
                                    <div class="detail">
                                        <h4>MIKE HARWARD</h4>
                                        <span class="position">Social Media Manager</span>
                                    </div>
                                </div>

                                <div class="col-xxs-12 col-xs-6 col-sm-3 TeamMember">
                                    <div class="image"> <img src="~/assets/images/teammember-img2.jpg" /></div>
                                    <div class="detail">
                                        <h4>MIKE HARWARD</h4>
                                        <span class="position">Social Media Manager</span>
                                    </div>
                                </div>

                                <div class="col-xxs-12 col-xs-6 col-sm-3 TeamMember">
                                    <div class="image"> <img src="~/assets/images/teammember-img.jpg" /></div>
                                    <div class="detail">
                                        <h4>MIKE HARWARD</h4>
                                        <span class="position">Social Media Manager</span>
                                    </div>
                                </div>

                                <div class="col-xxs-12 col-xs-6 col-sm-3 TeamMember">
                                    <div class="image"> <img src="~/assets/images/teammember-img2.jpg" /></div>
                                    <div class="detail">
                                        <h4>MIKE HARWARD</h4>
                                        <span class="position">Social Media Manager</span>
                                    </div>
                                </div>

                            </div>
                            <!-- //Our Team Section -->
                            <!-- Images Section -->
                            <div class="row rowSection">
                                <div class="col-xs-12">
                                    <h2 class="SectionTitle">
                                        <span>Images</span>
                                    </h2>
                                </div>
                                <div class="col-xs-12">
                                    <div class="row">
                                        <div class="owl-carousel media-gallery">
                                            @if (Model.IsPhotosShow)
                                            {
                                                foreach (var item in Model.ProviderImageGalaries)
                                                {
                                                    <div class="item">
                                                        <div class="image">
                                                            <a href="~/Images/ProviderGalaryImages/@item.ImagePath" rel="prettyPhoto[gallery1]"><img alt="" src="~/Images/ProviderGalaryImages/@item.ImagePath" onError="this.onerror = null; this.src = '/assets/images/no-image.jpg';" /></a>
                                                        </div>
                                                    </div>
                                                }
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- //Image Section -->
                            <!-- Video Section -->
                            <div class="row rowSection">
                                <div class="col-xs-12">
                                    <h2 class="SectionTitle">
                                        <span>Videos</span>
                                    </h2>
                                </div>
                                <div class="col-xs-12">
                                    <div class="row">
                                        <div class="owl-carousel media-gallery">
                                            @if (Model.IsVideoShow)
                                            {
                                                foreach (var item in Model.ProviderVideos)
                                                {
                                                    <div class="item">
                                                        <div class="image">
                                                            <a href="@item.VideoUrl" rel="prettyPhoto">
                                                                <span class="playIcon"><i class="fa fa-play-circle"></i></span>
                                                                <img alt="" src="~/assets/images/gallery-img1.jpg" onError="this.onerror = null; this.src = '/assets/images/no-image.jpg';" />
                                                            </a>
                                                        </div>

                                                        @*<div class="image">
                                                <a href="#">
                                                    <article>
                                                        <iframe width="200"
                                                                height="300"
                                                                src="@item.VideoUrl"
                                                                frameborder="0"
                                                                allowfullscreen></iframe>
                                                    </article>
                                                </a>
                                            </div>*@
                                                    </div>
                                                }
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- //Video Section -->
                            <!-- Blog News Section -->
                            <div class="row rowSection">
                                <div class="col-xs-12">
                                    <h2 class="SectionTitle">
                                        <span>Blog & News</span>
                                    </h2>
                                </div>
                                @if (Model.IsBlogShow)
                                {
                                    foreach (var blog in Model.ListingBlogs)
                                    {
                                        <div class="col-xs-12">
                                            <div class="posItem">
                                                <div class="image">
                                                    <span class="tag">news</span>
                                                    <img src="~/Images/BlogImages/@blog.BlogImage" />
                                                </div>
                                                <div class="detail">
                                                    <h4>@blog.BlogTitle</h4>
                                                    <div class="desc"><span><i aria-hidden="true" class="fa fa-calendar"></i> @blog.CreatedDate</span><span><i aria-hidden="true" class="fa fa-comment-o"></i> Add Comment</span></div>
                                                    <div class="text">
                                                        <span class="more">@blog.BlogDescription</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                }
                            </div>
                            <!-- //Blog News Section -->
                            <!-- Blog News Section -->
                            <div class="row rowSection">
                                <div class="col-xs-12">
                                    <h2 class="SectionTitle">
                                        <span>Similar Providers</span>
                                    </h2>
                                </div>
                                @foreach (var item in (List<ProviderListingModel>)ViewBag.SimilarProvider)
                                {

                                    var tempCompanyName = item.CompanyName.Replace(' ', '-');

                                    <div class="col-xxs-12 col-xs-6 col-sm-4">
                                        <div class="providerItem">
                                            <div class="image">
                                                <img src="../Images/ProviderListingImages/@item.Logo" onError="this.onerror = null; this.src = '/assets/images/no-image.jpg';" />
                                            </div>
                                            <div class="detail">
                                                <h4>@item.ProviderCategory1.CategoryName: <span><a href="@Url.Action("ViewListing","ProviderListing", new { CompanyName = tempCompanyName })">@item.CompanyName:</a></span></h4>
                                                <ul>
                                                    <li><i aria-hidden="true" class="fa fa-map-marker"></i> @item.ProviderAddress @item.ServiceAreas[0].City   @item.ServiceAreas[0].UsState.State, @item.ServiceAreas[0].ZipCode</li>
                                                    <li><i aria-hidden="true" class="fa fa-phone"></i> <a href="#">@item.ProviderContactNumber</a> </li>
                                                </ul>

                                                <a href="@Url.Action("ViewListing", "ProviderListing",  new { CompanyName = tempCompanyName })" class="btn">View More</a>

                                            </div>

                                        </div>
                                    </div>
                                }



                                @*<div class="hidden-xs col-sm-4">
                        <div class="providerItem">
                            <div class="image">
                                <img src="assets/images/provider-img1.jpg" />
                            </div>
                            <div class="detail">
                                <h4>Adult Day Care: <span>MHH</span></h4>
                                <ul>
                                    <li><i aria-hidden="true" class="fa fa-map-marker"></i> 711 new york, Karachi Arkansas, 19090</li>
                                    <li><i aria-hidden="true" class="fa fa-phone"></i> <a href="#">(023) 154-4545</a> </li>
                                </ul>

                                <a href="#" class="btn">View More</a>

                            </div>

                        </div>
                    </div>*@


                            </div>
                            <!-- //Blog News Section -->
                        </div>
                    </div>
            <!-- //Left Content Section -->
            <!-- Right Section -->
            <div class="col-md-3 sidebar hidden-sm hidden-xs">
                @using (Html.BeginForm("Contactus", "Utitility", FormMethod.Post, new { @id = "contactusform" }))
                {
                    @Html.Hidden("ProviderUserId", Model.UserId)
                    @Html.Hidden("ProviderListingId", Model.ProviderListingId)
                    <div class="contactForm">
                        <h2><i aria-hidden="true" class="fa fa-file-text-o"></i>Contact Us</h2>

                        <div class="default-form">
                            <div class="form-group">
                                @*<input class="form-control" type="text" required placeholder="First Name" />*@
                                <input type="text" name="FirstName" required placeholder="First Name" class="form-control clearContactDetails _hide">
                                <span id="FirstNamevalidation"></span>
                            </div>
                            <div class="form-group">
                                @*<input class="form-control" type="text" placeholder="Last Name" />*@
                                <input type="text" name="LastName" required placeholder="Last Name" class="form-control  clearContactDetails _hide">
                                <span id="LastNamevalidation"></span>
                            </div>
                            <div class="form-group">
                                @*<input class="form-control" type="text" placeholder="Email" />*@
                                <input type="email" name="Email" required placeholder="Email" class="form-control clearContactDetails">
                            </div>
                            <div class="form-group">
                                @*<input class="form-control" type="text" placeholder="Phone" />*@
                                <input type="text" name="Phone" required placeholder="Phone" class="form-control clearContactDetails">
                                <span id="Phonevalidation"></span>
                            </div>
                            <div class="form-group">
                                <h4>Please check any that apply *</h4>
                                <ul class="customCheckbox">
                                    <li><label><input id="check-1" type="checkbox" name="IsCall" /> <span class="lbl">Please call me with more information</span></label></li>
                                    <li><label><input id="check-2" type="checkbox" name="IsEmail" /> <span class="lbl">Please Email me with more information</span></label></li>
                                    <li><label><input id="check-3" type="checkbox" name="AppointmentSchedule" /><span class="lbl">I did Like to Schedule an appointment</span></label></li>
                                    <li><label><input id="check-4" type="checkbox" name="CustomeMsg" /> <span class="lbl">I did like to type a custom Message</span></label></li>
                                </ul>
                            </div>

                            <div class="form-group AppointmentDateTimeDiv">
                                <div class="input-group">
                                    @*<input type="text" aria-describedby="basic-addon1" placeholder="Appointment Date" class="form-control">*@
                                    @Html.TextBox("AppointmentDate", "", new { @class = "form-control datepicker", @placeholder = "Appointment Date", @aria_describedby = "basic-addon1" })
                                    <span id="basic-addon1" class="input-group-addon"><i aria-hidden="true" class="fa fa-calendar"></i></span>
                                    <span style="color:red" class="AppointmentSchedule"></span>
                                </div>
                            </div>

                            <div class="form-group AppointmentDateTimeDiv">
                                <div class="input-group">
                                    @Html.TextBox("AppointmentTime", "", new { @class = "form-control timepicker", @placeholder = "Appointment Time", @aria_describedby = "basic-addon1" })
                                    @*<input type="text" aria-describedby="basic-addon1" placeholder="Appointment Time" class="form-control">*@
                                    <span id="basic-addon1" class="input-group-addon"><i aria-hidden="true" class="fa fa-clock-o"></i></span>
                                </div>
                            </div>

                            <div class="form-group CustomeMessageBody1" hidden="hidden">
                                @*<textarea class="form-control" placeholder="Appointment Time"></textarea>*@
                                @Html.TextArea("CustomeMessageBody", "", 5, 5, new { @class = "form-control customemsg", @placeholder = "Appointment Time" })
                            </div>
                            <div class="form-group">
                                <p class="instructionTxt">By submittng this form you agree to the <a href="#">terms of use</a></p>
                                <input type="button" id="Contactusbtn" value="Send" class="btn btn-block btn-secondary" />
                            </div>
                        </div>

                    </div>
                }

                <div class="map map-widget">
                    <div class="img">
                        @*<img src="assets/images/mapImg.jpg" class="img-resposnive" />*@
                        <div id="googleMap" hidden="hidden" style="width:100%;height:240px;">
                        </div>
                    </div>
                </div>

            </div>
            <!-- //Right Section -->


        </div>
        <!-- //Row -->
    </div>
</div>
<!-- //Main Container -->
<link href="https://cdn.jsdelivr.net/bootstrap.timepicker/0.2.6/css/bootstrap-timepicker.min.css" rel="stylesheet" />
<link href="http://code.jquery.com/ui/1.9.1/themes/base/jquery-ui.css" rel="stylesheet" />
<link href="~/css/bootstrap-datepicker.css" rel="stylesheet" />

<script src="http://maps.googleapis.com/maps/api/js"></script>
<script src="~/Scripts/Custom/bootstrap-timepicker.js"></script>
<script src="~/Scripts/bootstrap-datepicker.min.js"></script>
<script type="text/javascript">
    $(function () {

        //Show more and less
        var showChar = 150, showtxt = "Read More", hidetxt = "less";
        $('.more').each(function () {
            if ($(window).width() <= 767)
                showChar = 70;
            var content = $(this).text();
            if (content.length > showChar) {
                var con = content.substr(0, showChar);
                var hcon = content.substr(showChar, content.length - showChar);
                var txt = con + '<span class="dots">...</span><span class="morecontent"><span>' + hcon + '</span>&nbsp;&nbsp;<a href="" class="moretxt">' + showtxt + '</a></span>';
                $(this).html(txt);
            }
        });
        $(".moretxt").click(function () {
            if ($(this).hasClass("sample")) {
                $(this).removeClass("sample");
                $(this).text(showtxt);
            } else {
                $(this).addClass("sample");
                $(this).text(hidetxt);
            }
            $(this).parent().prev().toggle();
            $(this).prev().toggle();
            return false;
        });

        //End Show more and less


        if ($("#LoggedInUserId").val() != undefined && $("#LoggedInUserId").val() != "" && $("#LoggedInUserId").val() != null) {
            $('._hide').hide();
            $('input[name=FirstName]').val($('#LoggedInConFirstName').val());
            $('input[name=LastName]').val($('#LoggedInConLastName').val());
        }

        $(".alert-danger").hide();
        // $("[name='Phone']").mask("(000) 000-0000");
        if ($("#isratingShow").val() == "True") {

            $("#myModal").modal('show');
        }

        //*******Google Map*******//
        var map;
        var marker;
        var mapProp
        var geocoder = new google.maps.Geocoder();




        $.ajax({
            url: '@Url.Action("GetZipCoordinates","ProviderListing")',
            data: { zip: $("#postcode").val() },
            success: function (result) {

                var latlong = result.split(',');
                lat = latlong[0];
                lng = latlong[1];


                var ss = new google.maps.LatLng(lat, lng)
                mapProp = {
                    center: ss,
                    zoom: 12,
                    mapTypeId: google.maps.MapTypeId.ROADMAP
                };
                map = new google.maps.Map(document.getElementById("googleMap"), mapProp);
                var marker = new google.maps.Marker({
                    position: ss,
                    map: map
                });

                marker.setMap(map);




            }
        });


        $("#googleMap").attr("hidden", false);

        //*****End Google Map****//
        //lightbox.option({
        //    alwaysShowNavOnTouchDevices: true,
        //    wrapAround: true,
        //    width: 500
        //})
        $(".AppointmentDateTimeDiv").attr("hidden", true);
        var d = new Date();
        var days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
        var today = days[d.getDay()];
        $(".businessHours").find(".row").each(function (d, t) {
            if ($(this).children().first().text().trim() == today) {
                $(t).css({ "color": "blue", "font-weight": "bolder" });
            }
        })
        var ratingvale = parseFloat($("#AvgRating").val());

        $('.timepicker').timepicker({

        });


        $(".datepicker").datepicker({
            minDate: new Date()
        });

        $("[name='CustomeMsg']").click(function () {
            if ($("[name='CustomeMsg']").is(':checked')) {
                $(".CustomeMessageBody1").attr("hidden", false);
            }
            else {
                $(".CustomeMessageBody1").attr("hidden", true);
            }
        });

        $("[name='IsCall']").click(function () {
            if ($("[name='IsCall']").is(':checked')) {
                $(".alert-danger").hide();
            }
        });

        $("[name='MbCall']").click(function () {
            if ($("[name='MbCall']").is(':checked')) {
                $(".alert-danger").hide();
            }
        });

        $("[name='AppointmentSchedule']").click(function () {
            if ($("[name='AppointmentSchedule']").is(':checked')) {
                $(".AppointmentDateTimeDiv").attr("hidden", false);
                $(".alert-danger").hide();
            }
            else {
                $(".AppointmentDateTimeDiv").attr("hidden", true);
                if (!$("[name='IsCall']").is(':checked')) {
                    $(".alert-danger").show();
                }

            }
        })

        $("[name='MbAppointmentSchedule']").click(function () {
            if ($("[name='MbAppointmentSchedule']").is(':checked')) {
                $(".AppointmentDateTimeDiv").attr("hidden", false);
                $(".alert-danger").hide();
            }
            else {
                $(".AppointmentDateTimeDiv").attr("hidden", true);
                if (!$("[name='MbCall']").is(':checked')) {
                    $(".alert-danger").show();
                }

            }
        })


        $("#Contactusbtn").click(function (e) {
            var error = [];

            if (error.length > 0) {
            }
            else {
                //modified by Naveen 11-7-16
                //if ($("#UserId").val() != null) {
                if ($("#LoggedInUserId").val() != undefined && $("#LoggedInUserId").val() != "" && $("#LoggedInUserId").val() != null) {
                    $.ajax({
                        url: "@Url.Action("Contactus", "Utitility")",
                        type: 'POST',
                        data: $("#contactusform").serialize(),

                        success: function (Status) {
                            if (Status != "False") {
                                $(".contactusform").val("");
                                $(".customemsg").val("");
                                $('.clearContactDetails').val("");
                                $("[type='checkbox']").attr("checked", false);
                                $(".AppointmentDateTimeDiv").attr("hidden", true);
                                $(".CustomeMessageBody").attr("hidden", true);
                                alert("Successfully Submitted");
                            }
                            //your success code
                        },
                        error: function () {
                            //your error code
                        }
                    });
                }
                else {
                    alert("Please sign in before submit Contact us form");
                }
            }
        })

        $("#mbContactusbtn").click(function (e) {
            var error = [];
            if (error.length > 0) {
            }
            else {
                //modified by Naveen 11-7-16
                //if ($("#UserId").val() != null) {
                if ($("#LoggedInUserId").val() != undefined && $("#LoggedInUserId").val() != "" && $("#LoggedInUserId").val() != null) {
                    $.ajax({
                        url: "@Url.Action("Contactus", "Utitility")",
                        type: 'POST',
                        data: $("#mbcontactusform").serialize(),

                        success: function (Status) {
                            if (Status != "False") {
                                $(".contactusform").val("");
                                $(".customemsg").val("");
                                $('.clearContactDetails').val("");
                                $("[type='checkbox']").attr("checked", false);
                                $(".AppointmentDateTimeDiv").attr("hidden", true);
                                $(".CustomeMessageBody").attr("hidden", true);
                                alert("Successfully Submitted");
                            }
                            //your success code
                        },
                        error: function () {
                            //your error code
                        }
                    });
                }
                else {
                    alert("Please sign in before submit Contact us form");
                }
            }
        })
        ////*****For rating ******////////////////
        $("#DontRatign").click(function () {
            $.ajax({
                url: "@Url.Action("DontRatign", "Utitility")",
                type: 'POST',
                data: { ProviderId: $("#ProviderId").val() },

                success: function (Status) {
                    $("#myModal").modal('hide');
                    //your success code
                },
                error: function () {
                    //your error code
                }
            });
        });
        $("#Ratingbtn").click(function (e) {
            e.preventDefault();

            var error = [];
            $.each($(".Ratingform"), function () {
                if ($(this).val() == "") {
                    $(this).css("border-color", "red");
                    error.push(1);
                }
                else {
                    $(this).css("border-color", "silver");
                }
            })

            $("#speedrating,#Qualityrating,#Reliabilityrating").rateYo().rateYo("rating").each(function (index, element) {
                if (element == 0) {
                    alert("Please select all rating");
                    return false;

                }
            });

            if (error.length > 0) {


            }
            else {
                var obj = {};
                obj.ProviderListingId = parseInt($("#ProviderListingId").val());
                obj.UserId = $("#UserId").val();
                obj.Speedpoint = parseInt($("#speedrating").rateYo().rateYo("rating"));
                obj.QualityPoint = parseInt($("#Qualityrating").rateYo().rateYo("rating"));
                obj.ReliabilityPoint = parseInt($("#Reliabilityrating").rateYo().rateYo("rating"));
                obj.Comments = $("#Comment").val();
                obj.Name = $("#RatingUserName").val();
                obj.Email = $("#RatingUseEmail").val();
                obj.Website = $("#RatingUseWebsite").val();
                obj.ProviderId = $("#ProviderId").val();
                $.ajax({
                    url: "@Url.Action("Rating", "Utitility")",
                    type: 'POST',
                    data: { _RatingModal: obj },

                    success: function (Status) {
                        if (Status != "False") {
                            $(".Ratingform").val("");
                            $("#Reliabilityrating").rateYo().rateYo("rating", 0);
                            $("#Qualityrating").rateYo().rateYo("rating", 0);
                            $("#speedrating").rateYo().rateYo("rating", 0);
                            $("#myModal").modal('hide');
                            alert("Rating Successfully Submitted");
                        }
                        //your success code
                    },
                    error: function () {
                        //your error code
                    }
                });
            }
        });
    });
</script>